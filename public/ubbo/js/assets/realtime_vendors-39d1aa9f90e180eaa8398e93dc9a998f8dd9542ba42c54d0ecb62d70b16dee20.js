!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){return e.filter(function(e){return this[e]?!1:this[e]=!0},{})}function t(e,t){return Math.round(e/t)*t}function n(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,o=p();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),{top:t.top+o.y-i.clientTop,left:t.left+o.x-i.clientLeft}}function i(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e){var t=Math.pow(10,7);return Number((Math.round(e*t)/t).toFixed(7))}function r(e,t,n){c(e,t),setTimeout(function(){u(e,t)},n)}function s(e){return Math.max(Math.min(e,100),0)}function a(e){return Array.isArray(e)?e:[e]}function d(e){var t=e.split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(e,t){e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function p(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),n=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,i=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:i}}function f(e){return function(t){return e+t}}function m(e,t){return 100/(t-e)}function h(e,t){return 100*t/(e[1]-e[0])}function v(e,t){return h(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function g(e,t){return t*(e[1]-e[0])/100+e[0]}function y(e,t){for(var n=1;e>=t[n];)n+=1;return n}function b(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,o,r,s,a=y(n,e);return i=e[a-1],o=e[a],r=t[a-1],s=t[a],r+v([i,o],n)/m(r,s)}function w(e,t,n){if(n>=100)return e.slice(-1)[0];var i,o,r,s,a=y(n,t);return i=e[a-1],o=e[a],r=t[a-1],s=t[a],g([i,o],(n-r)*m(r,s))}function x(e,n,i,o){if(100===o)return o;var r,s,a=y(o,e);return i?(r=e[a-1],s=e[a],o-r>(s-r)/2?s:r):n[a-1]?e[a-1]+t(o-e[a-1],n[a-1]):o}function E(e,t,n){var o;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(o="min"===e?0:"max"===e?100:parseFloat(e),!i(o)||!i(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(o),n.xVal.push(t[0]),o?n.xSteps.push(isNaN(t[1])?!1:t[1]):isNaN(t[1])||(n.xSteps[0]=t[1])}function C(e,t,n){return t?void(n.xSteps[e]=h([n.xVal[e],n.xVal[e+1]],t)/m(n.xPct[e],n.xPct[e+1])):!0}function O(e,t,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var o,r=[];for(o in e)e.hasOwnProperty(o)&&r.push([e[o],o]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),o=0;o<r.length;o++)E(r[o][1],r[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)C(o,this.xNumSteps[o],this)}function _(e,t){if(!i(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function S(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new O(t,e.snap,e.dir,e.singleStep)}function k(e,t){if(t=a(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function T(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function I(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function P(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(t===!0&&2===e.handles)e.connect=3;else{if(t!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function M(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function j(e,t){if(!i(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(e.margin=e.spectrum.getMargin(t),!e.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function z(e,t){if(!i(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function A(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0;if(i&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:n||r,drag:i,fixed:o,snap:r}}function B(e,t){if(t===!0&&(e.tooltips=!0),t&&t.format){if("function"!=typeof t.format)throw new Error("noUiSlider: 'tooltips.format' must be an object.");e.tooltips={format:t.format}}}function N(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function L(e,t){if(void 0!==t&&"string"!=typeof t)throw new Error("noUiSlider: 'cssPrefix' must be a string.");e.cssPrefix=t}function U(e){var t,n={margin:0,limit:0,animate:!0,format:R};t={step:{r:!1,t:_},start:{r:!0,t:k},connect:{r:!0,t:P},direction:{r:!0,t:A},snap:{r:!1,t:T},animate:{r:!1,t:I},range:{r:!0,t:S},orientation:{r:!1,t:M},margin:{r:!1,t:j},limit:{r:!1,t:z},behaviour:{r:!0,t:D},format:{r:!1,t:N},tooltips:{r:!1,t:B},cssPrefix:{r:!1,t:L}};var i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(i).forEach(function(t){void 0===e[t]&&(e[t]=i[t])}),Object.keys(t).forEach(function(i){var o=t[i];if(void 0===e[i]){if(o.r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}o.t(n,e[i])}),n.pips=e.pips,n.style=n.ort?"top":"left",n}function F(t,i){function o(e,t,n){var i=e+t[0],o=e+t[1];return n?(0>i&&(o+=Math.abs(i)),o>100&&(i-=o-100),[s(i),s(o)]):[i,o]}function m(e,t){e.preventDefault();var n,i,o=0===e.type.indexOf("touch"),r=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer"),a=e;return 0===e.type.indexOf("MSPointer")&&(s=!0),o&&(n=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY),t=t||p(),(r||s)&&(n=e.clientX+t.x,i=e.clientY+t.y),a.pageOffset=t,a.points=[n,i],a.cursor=r||s,a}function h(e,t){var n=document.createElement("div"),i=document.createElement("div"),o=["-lower","-upper"];return e&&o.reverse(),c(i,ee[3]),c(i,ee[3]+o[t]),c(n,ee[2]),n.appendChild(i),n}function v(e,t,n){switch(e){case 1:c(t,ee[7]),c(n[0],ee[6]);break;case 3:c(n[1],ee[6]);case 2:c(n[0],ee[7]);case 0:c(t,ee[6])}}function g(e,t,n){var i,o=[];for(i=0;e>i;i+=1)o.push(n.appendChild(h(t,i)));return o}function y(e,t,n){c(n,ee[0]),c(n,ee[8+e]),c(n,ee[4+t]);var i=document.createElement("div");return c(i,ee[1]),n.appendChild(i),i}function b(e){return e}function w(e){var t=document.createElement("div");return t.className=ee[18],e.firstChild.appendChild(t)}function x(e){var t=e.format?e.format:b,n=Z.map(w);R("update",function(e,i,o){n[i].innerHTML=t(e[i],o[i])})}function E(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){var i,o=100/(t-1),r=0;for(t=[];(i=r++*o)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}function C(t,n,i){function o(e,t){return(e+t).toFixed(7)/1}var r=J.direction,s={},a=J.xVal[0],d=J.xVal[J.xVal.length-1],c=!1,u=!1,l=0;return J.direction=0,i=e(i.slice().sort(function(e,t){return e-t})),i[0]!==a&&(i.unshift(a),c=!0),i[i.length-1]!==d&&(i.push(d),u=!0),i.forEach(function(e,r){var a,d,p,f,m,h,v,g,y,b,w=e,x=i[r+1];if("steps"===n&&(a=J.xNumSteps[r]),a||(a=x-w),w!==!1&&void 0!==x)for(d=w;x>=d;d=o(d,a)){for(f=J.toStepping(d),m=f-l,g=m/t,y=Math.round(g),b=m/y,p=1;y>=p;p+=1)h=l+p*b,s[h.toFixed(5)]=["x",0];v=i.indexOf(d)>-1?1:"steps"===n?2:0,!r&&c&&(v=0),d===x&&u||(s[f.toFixed(5)]=[d,v]),l=f}}),J.direction=r,s}function O(e,t,n){function o(e){return["-normal","-large","-sub"][e]}function r(e,t,n){return'class="'+t+" "+t+"-"+a+" "+t+o(n[1])+'" style="'+i.style+": "+e+'%"'}function s(e,i){J.direction&&(e=100-e),i[1]=i[1]&&t?t(i[0],i[1]):i[1],d.innerHTML+="<div "+r(e,"noUi-marker",i)+"></div>",i[1]&&(d.innerHTML+="<div "+r(e,"noUi-value",i)+">"+n.to(i[0])+"</div>")}var a=["horizontal","vertical"][i.ort],d=document.createElement("div");return c(d,"noUi-pips"),c(d,"noUi-pips-"+a),Object.keys(e).forEach(function(t){s(t,e[t])}),d}function _(e){var t=e.mode,n=e.density||1,i=e.filter||!1,o=e.values||!1,r=e.stepped||!1,s=E(t,o,r),a=C(n,t,s),d=e.format||{to:Math.round};return Y.appendChild(O(a,i,d))}function S(){return W["offset"+["Width","Height"][i.ort]]}function k(e,t){void 0!==t&&1!==i.handles&&(t=Math.abs(t-i.dir)),Object.keys($).forEach(function(n){var i=n.split(".")[0];e===i&&$[n].forEach(function(e){e(a(L()),t,T(Array.prototype.slice.call(Q)))})})}function T(e){return 1===e.length?e[0]:i.dir?e.reverse():e}function I(e,t,n,o){var r=function(t){return Y.hasAttribute("disabled")?!1:l(Y,ee[14])?!1:(t=m(t,o.pageOffset),e===G.start&&void 0!==t.buttons&&t.buttons>1?!1:(t.calcPoint=t.points[i.ort],void n(t,o)))},s=[];return e.split(" ").forEach(function(e){t.addEventListener(e,r,!1),s.push([e,r])}),s}function P(e,t){if(0===e.buttons&&0===e.which&&0!==t.buttonsProperty)return M(e,t);var n,i,r=t.handles||Z,s=!1,a=100*(e.calcPoint-t.start)/t.baseSize,d=r[0]===Z[0]?0:1;if(n=o(a,t.positions,r.length>1),s=D(r[0],n[d],1===r.length),r.length>1){if(s=D(r[1],n[d?0:1],!1)||s)for(i=0;i<t.handles.length;i++)k("slide",i)}else s&&k("slide",d)}function M(e,t){var n=W.querySelector("."+ee[15]),i=t.handles[0]===Z[0]?0:1;null!==n&&u(n,ee[15]),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(e){o.removeEventListener(e[0],e[1])}),u(Y,ee[12]),k("set",i),k("change",i)}function j(e,t){var n=document.documentElement;if(1===t.handles.length&&(c(t.handles[0].children[0],ee[15]),t.handles[0].hasAttribute("disabled")))return!1;e.stopPropagation();var i=I(G.move,n,P,{start:e.calcPoint,baseSize:S(),pageOffset:e.pageOffset,handles:t.handles,buttonsProperty:e.buttons,positions:[X[0],X[Z.length-1]]}),o=I(G.end,n,M,{handles:t.handles});if(n.noUiListeners=i.concat(o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,Z.length>1&&c(Y,ee[12]);var r=function(){return!1};document.body.noUiListener=r,document.body.addEventListener("selectstart",r,!1)}}function z(e){var t,o,s=e.calcPoint,a=0;return e.stopPropagation(),Z.forEach(function(e){a+=n(e)[i.style]}),t=a/2>s||1===Z.length?0:1,s-=n(W)[i.style],o=100*s/S(),i.events.snap||r(Y,ee[14],300),Z[t].hasAttribute("disabled")?!1:(D(Z[t],o),k("slide",t),k("set",t),k("change",t),void(i.events.snap&&j(e,{handles:[Z[t]]})))}function A(e){var t,n;if(!e.fixed)for(t=0;t<Z.length;t+=1)I(G.start,Z[t].children[0],j,{handles:[Z[t]]});e.tap&&I(G.start,W,z,{handles:Z}),e.drag&&(n=[W.querySelector("."+ee[7])],c(n[0],ee[10]),e.fixed&&n.push(Z[n[0]===Z[0]?1:0].children[0]),n.forEach(function(e){I(G.start,e,j,{handles:Z})}))}function D(e,t,n){var o=e!==Z[0]?1:0,r=X[0]+i.margin,a=X[1]-i.margin,d=X[0]+i.limit,l=X[1]-i.limit,p=J.fromStepping(t);return Z.length>1&&(t=o?Math.max(t,r):Math.min(t,a)),n!==!1&&i.limit&&Z.length>1&&(t=o?Math.min(t,d):Math.max(t,l)),t=J.getStep(t),t=s(parseFloat(t.toFixed(7))),t===X[o]&&p===Q[o]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[i.style]=t+"%"}):e.style[i.style]=t+"%",e.previousSibling||(u(e,ee[17]),t>50&&c(e,ee[17])),X[o]=t,Q[o]=J.fromStepping(t),k("update",o),!0)}function B(e,t){var n,o,r;for(i.limit&&(e+=1),n=0;e>n;n+=1)o=n%2,r=t[o],null!==r&&r!==!1&&("number"==typeof r&&(r=String(r)),r=i.format.from(r),(r===!1||isNaN(r)||D(Z[o],J.toStepping(r),n===3-i.dir)===!1)&&k("update",o))}function N(e){var t,n,o=a(e);for(i.dir&&i.handles>1&&o.reverse(),i.animate&&-1!==X[0]&&r(Y,ee[14],300),t=Z.length>1?3:1,1===o.length&&(t=1),B(t,o),n=0;n<Z.length;n++)k("set",n)}function L(){var e,t=[];for(e=0;e<i.handles;e+=1)t[e]=i.format.to(Q[e]);return T(t)}function F(){ee.forEach(function(e){e&&u(Y,e)}),Y.innerHTML="",delete Y.noUiSlider}function H(){var e=X.map(function(e,t){var n=J.getApplicableStep(e),i=d(String(n[2])),o=Q[t],r=100===e?null:n[2],s=Number((o-n[2]).toFixed(i)),a=0===e?null:s>=n[1]?n[2]:n[0]||!1;return[a,r]});return T(e)}function R(e,t){$[e]=$[e]||[],$[e].push(t),"update"===e.split(".")[0]&&Z.forEach(function(e,t){k("update",t)})}function V(e){var t=e.split(".")[0],n=e.substring(t.length);Object.keys($).forEach(function(e){var i=e.split(".")[0],o=e.substring(i.length);t&&t!==i||n&&n!==o||delete $[e]})}function K(e){var t=U({start:[0,0],margin:e.margin,limit:e.limit,step:e.step,range:e.range,animate:e.animate});i.margin=t.margin,i.limit=t.limit,i.step=t.step,i.range=t.range,i.animate=t.animate,J=t.spectrum}var W,Z,Y=t,X=[-1,-1],J=i.spectrum,Q=[],$={},ee=["target","base","origin","handle","horizontal","vertical","background","connect","ltr","rtl","draggable","","state-drag","","state-tap","active","","stacking","tooltip"].map(f(i.cssPrefix||q));if(Y.noUiSlider)throw new Error("Slider was already initialized.");return W=y(i.dir,i.ort,Y),Z=g(i.handles,i.dir,W),v(i.connect,Y,Z),A(i.events),i.pips&&_(i.pips),i.tooltips&&x(i.tooltips),{destroy:F,steps:H,on:R,off:V,get:L,set:N,updateOptions:K}}function H(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=U(t,e),i=F(e,n);return i.set(n.start),e.noUiSlider=i,i}var G=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},q="noUi-";O.prototype.getMargin=function(e){return 2===this.xPct.length?h(this.xVal,e):!1},O.prototype.toStepping=function(e){return e=b(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},O.prototype.fromStepping=function(e){return this.direction&&(e=100-e),o(w(this.xVal,this.xPct,e))},O.prototype.getStep=function(e){return this.direction&&(e=100-e),e=x(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},O.prototype.getApplicableStep=function(e){var t=y(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},O.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var R={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:H}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.nipplejs=e()}}(function(){function e(){}function t(e,n){return this.identifier=n.identifier,this.position=n.position,this.frontPosition=n.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restOpacity:.5,mode:"dynamic",zone:document.body},this.config(n),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=t.id,t.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}function n(e,t){var i=this;return i.nipples=[],i.idles=[],i.actives=[],i.ids=[],i.pressureIntervals={},i.manager=e,i.id=n.id,n.id+=1,i.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restOpacity:.5},i.config(t),"static"!==i.options.mode&&"semi"!==i.options.mode||(i.options.multitouch=!1),i.options.multitouch||(i.options.maxNumberOfNipples=1),i.updateBox(),i.prepareNipples(),i.bindings(),i.begin(),i.nipples}function i(e){var t=this;t.ids={},t.index=0,t.collections=[],t.config(e),t.prepareCollections();var n;return u.bindEvt(window,"resize",function(e){clearTimeout(n),n=setTimeout(function(){var e,n=u.getScroll();t.collections.forEach(function(t){t.forEach(function(t){e=t.el.getBoundingClientRect(),t.position={x:n.x+e.left,y:n.y+e.top}})})},100)}),t.collections}var o,r=!!("ontouchstart"in window),s=!!window.PointerEvent,a=!!window.MSPointerEvent,d={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},c={};s?o=d.pointer:a?o=d.MSPointer:r?(o=d.touch,c=d.mouse):o=d.mouse;var u={};u.distance=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},u.angle=function(e,t){var n=t.x-e.x,i=t.y-e.y;return u.degrees(Math.atan2(i,n))},u.findCoord=function(e,t,n){var i={x:0,y:0};return n=u.radians(n),i.x=e.x-t*Math.cos(n),i.y=e.y-t*Math.sin(n),i},u.radians=function(e){return e*(Math.PI/180)},u.degrees=function(e){return e*(180/Math.PI)},u.bindEvt=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent(t,n)},u.unbindEvt=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent(t,n)},u.trigger=function(e,t,n){var i=new CustomEvent(t,n);e.dispatchEvent(i)},u.prepareEvent=function(e){return e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e},u.getScroll=function(){var e=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},u.applyPosition=function(e,t){t.x&&t.y?(e.style.left=t.x+"px",e.style.top=t.y+"px"):(t.top||t.right||t.bottom||t.left)&&(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left)},u.getTransitionStyle=function(e,t,n){var i=u.configStylePropertyObject(e);for(var o in i)if(i.hasOwnProperty(o))if("string"==typeof t)i[o]=t+" "+n;else{for(var r="",s=0,a=t.length;a>s;s+=1)r+=t[s]+" "+n+", ";i[o]=r.slice(0,-2)}return i},u.getVendorStyle=function(e,t){var n=u.configStylePropertyObject(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=t);return n},u.configStylePropertyObject=function(e){var t={};t[e]="";var n=["webkit","Moz","o"];return n.forEach(function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},u.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u.safeExtend=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n},u.map=function(e,t){if(e.length)for(var n=0,i=e.length;i>n;n+=1)t(e[n]);else t(e)},e.prototype.on=function(e,t){var n,i=this,o=e.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var r=0;r<o.length;r+=1)n=o[r],i._handlers_[n]=i._handlers_[n]||[],i._handlers_[n].push(t);return i},e.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},void 0===e?n._handlers_={}:void 0===t?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n},e.prototype.trigger=function(e,t){var n,i=this,o=e.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var r=0;r<o.length;r+=1)n=o[r],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach(function(e){e.call(i,{type:n,target:i},t)})},e.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=u.safeExtend(t.options,e))},e.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},u.bindEvt(e,o[t],n._domHandlers_[t]),c[t]&&u.bindEvt(e,c[t],n._domHandlers_[t]),n},e.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},u.unbindEvt(e,o[t],n._domHandlers_[t]),c[t]&&u.unbindEvt(e,c[t],n._domHandlers_[t]),delete n._domHandlers_[t],this},t.prototype=new e,t.constructor=t,t.id=0,t.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},t.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=u.getVendorStyle("borderRadius","50%"),n=u.getTransitionStyle("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},u.extend(i.el,n),u.extend(i.back,t),u.extend(i.front,t),this.applyStyles(i),this},t.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},t.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},t.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},t.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},t.prototype.show=function(e){var t=this;return t.options.dataOnly?t:(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)},t.options.fadeTime),t)},t.prototype.hide=function(e){var t=this;return t.options.dataOnly?t:(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var n="dynamic"===t.options.mode?"none":"block";t.ui.el.style.display=n,"function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.restPosition(),t)},t.prototype.restPosition=function(e){var t=this;t.frontPosition={x:0,y:0};var n=t.options.fadeTime+"ms",i={};i.front=u.getTransitionStyle("transition",["top","left"],n);var o={front:{}};o.front={left:t.frontPosition.x+"px",top:t.frontPosition.y+"px"},t.applyStyles(i),t.applyStyles(o),t.restTimeout=setTimeout(function(){"function"==typeof e&&e.call(t),t.restCallback()},t.options.fadeTime)},t.prototype.restCallback=function(){var e=this,t={};t.front=u.getTransitionStyle("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},t.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},t.prototype.computeDirection=function(e){var t,n,i,o=e.angle.radian,r=Math.PI/4,s=Math.PI/2;if(t=o>r&&3*r>o?"up":o>-r&&r>=o?"left":o>3*-r&&-r>=o?"down":"right",n=o>-s&&s>o?"left":"right",i=o>0?"up":"down",e.force>this.options.threshold){var a={};for(var d in this.direction)this.direction.hasOwnProperty(d)&&(a[d]=this.direction[d]);var c={};this.direction={x:n,y:i,angle:t},e.direction=this.direction;for(var d in a)a[d]===this.direction[d]&&(c[d]=!0);if(c.x&&c.y&&c.angle)return e;c.x&&c.y||this.trigger("plain",e),c.x||this.trigger("plain:"+n,e),c.y||this.trigger("plain:"+i,e),c.angle||this.trigger("dir dir:"+t,e)}return e},n.prototype=new e,n.constructor=n,n.id=0,n.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(e){if(void 0===e)return t[0];for(var n=0,i=t.length;i>n;n+=1)if(t[n].identifier===e)return t[n];return!1}},n.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},n.prototype.begin=function(){var e=this,t=e.options;if("static"===t.mode){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}},n.prototype.createNipple=function(e,n){var i=this,o=u.getScroll(),r={},s=i.options;if(e.x&&e.y)r={x:e.x-(o.x+i.box.left),y:e.y-(o.y+i.box.top)};else if(e.top||e.right||e.bottom||e.left){var a=document.createElement("DIV");a.style.display="hidden",a.style.top=e.top,a.style.right=e.right,a.style.bottom=e.bottom,a.style.left=e.left,a.style.position="absolute",s.zone.appendChild(a);var d=a.getBoundingClientRect();s.zone.removeChild(a),r=e,e={x:d.left+o.x,y:d.top+o.y}}var c=new t(i,{color:s.color,size:s.size,threshold:s.threshold,fadeTime:s.fadeTime,dataOnly:s.dataOnly,restOpacity:s.restOpacity,mode:s.mode,identifier:n,position:e,zone:s.zone,frontPosition:{x:0,y:0}});return s.dataOnly||(u.applyPosition(c.ui.el,r),u.applyPosition(c.ui.front,c.frontPosition)),i.nipples.push(c),i.trigger("added "+c.identifier+":added",c),i.manager.trigger("added "+c.identifier+":added",c),i.bindNipple(c),c},n.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()},n.prototype.bindNipple=function(e){var t,n=this,i=function(e,i){t=e.type+" "+i.id+":"+e.type,n.trigger(t,i)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},n.prototype.pressureFn=function(e,t,n){var i=this,o=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var n=e.force||e.pressure||e.webkitForce||0;n!==o&&(t.trigger("pressure",n),i.trigger("pressure "+t.identifier+":pressure",n),o=n)}.bind(i),100)},n.prototype.onstart=function(e){var t=this,n=t.options;e=u.prepareEvent(e),t.updateBox();var i=function(e){t.actives.length<n.maxNumberOfNipples&&t.processOnStart(e)};return u.map(e,i),t.manager.bindDocument(),!1},n.prototype.processOnStart=function(e){var t,n=this,i=n.options,o=n.manager.getIdentifier(e),r=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},a=n.getOrCreate(o,s);a.identifier=o;var d=function(t){t.trigger("start",t),n.trigger("start "+t.id+":start",t),t.show(),r>0&&n.pressureFn(e,t,t.identifier),n.processOnMove(e)};if((t=n.idles.indexOf(a))>=0&&n.idles.splice(t,1),n.actives.push(a),n.ids.push(a.identifier),"semi"!==i.mode)d(a);else{var c=u.distance(s,a.position);if(!(c<=i.catchDistance))return a.destroy(),void n.processOnStart(e);d(a)}return a},n.prototype.getOrCreate=function(e,t){var n,i=this,o=i.options;return/(semi|static)/.test(o.mode)?(n=i.idles[0])?(i.idles.splice(0,1),n):"semi"===o.mode?i.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):n=i.createNipple(t,e)},n.prototype.processOnMove=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),o=t.nipples.get(i);if(!o)return console.error("Found zombie joystick with ID "+i),void t.manager.removeIdentifier(i);o.identifier=i;var r=o.options.size/2,s={x:e.pageX,y:e.pageY},a=u.distance(s,o.position),d=u.angle(s,o.position),c=u.radians(d),l=a/r;a>r&&(a=r,s=u.findCoord(o.position,a,d)),o.frontPosition={x:s.x-o.position.x,y:s.y-o.position.y},n.dataOnly||u.applyPosition(o.ui.front,o.frontPosition);var p={identifier:o.identifier,position:s,force:l,pressure:e.force||e.pressure||e.webkitForce||0,distance:a,angle:{radian:c,degree:d},instance:o};p=o.computeDirection(p),p.angle={radian:u.radians(180-d),degree:180-d},o.trigger("move",p),t.trigger("move "+o.id+":move",p)},n.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),o=t.nipples.get(i),r=t.manager.removeIdentifier(o.identifier);o&&(n.dataOnly||o.hide(function(){"dynamic"===n.mode&&(o.trigger("removed",o),t.trigger("removed "+o.id+":removed",o),t.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(t.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),t.trigger("end "+o.id+":end",o),t.ids.indexOf(o.identifier)>=0&&t.ids.splice(t.ids.indexOf(o.identifier),1),t.actives.indexOf(o)>=0&&t.actives.splice(t.actives.indexOf(o),1),/(semi|static)/.test(n.mode)?t.idles.push(o):t.nipples.indexOf(o)>=0&&t.nipples.splice(t.nipples.indexOf(o),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[r.id]=r.identifier))},n.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()},n.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(e){e.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()},i.prototype=new e,i.constructor=i,i.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every(function(e){return!(n=e.get(t))}),n}},i.prototype.create=function(e){return this.createCollection(e)},i.prototype.createCollection=function(e){var t=this,i=new n(t,e);return t.bindCollection(i),t.collections.push(i),i},i.prototype.bindCollection=function(e){var t,n=this,i=function(e,i){t=e.type+" "+i.id+":"+e.type,n.trigger(t,i)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},i.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},i.prototype.unbindDocument=function(e){var t=this;Object.keys(t.ids).length&&e!==!0||(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},i.prototype.getIdentifier=function(e){var t;return e?(t=void 0===e.identifier?e.pointerId:e.identifier,void 0===t&&(t=this.latest||0)):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},i.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},i.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1},i.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1},i.prototype.onAny=function(e,t){var n,i=this,o="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=u.prepareEvent(t);var r=function(e,t,n){n.ids.indexOf(t)>=0&&(n[o](e),e._found_=!0)},s=function(e){n=i.getIdentifier(e),u.map(i.collections,r.bind(null,e,n)),e._found_||i.removeIdentifier(n)};return u.map(t,s),!1},i.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(e){e.destroy()}),e.off()},i.prototype.onDestroyed=function(e,t){var n=this;return!(n.collections.indexOf(t)<0)&&void n.collections.splice(n.collections.indexOf(t),1);
};var l=new i;return{create:function(e){return l.create(e)},factory:l}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,i,o,r,s,a="Close",d="BeforeClose",c="AfterClose",u="BeforeAppend",l="MarkupParse",p="Open",f="Change",m="mfp",h="."+m,v="mfp-ready",g="mfp-removing",y="mfp-prevent-close",b=function(){},w=!!window.jQuery,x=e(window),E=function(e,n){t.ev.on(m+e+h,n)},C=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},O=function(n,i){t.ev.triggerHandler(m+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},_=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},S=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},k=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=k(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var o;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,a=n.items;for(o=0;o<a.length;o++)if(s=a[o],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=o;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=C("bg").on("click"+h,function(){t.close()}),t.wrap=C("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=C("container",t.wrap)),t.contentContainer=C("content"),t.st.preloader&&(t.preloader=C("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(o=0;o<d.length;o++){var c=d[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}O("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(E(l,function(e,t,n,i){n.close_replaceWith=_(i.type)}),r+=" mfp-close-btn-in"):t.wrap.append(_())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:x.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),x.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var u=t.wH=x.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(u)){var m=t._getScrollbarSize();m&&(f.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var g=t.st.mainClass;return t.isIE7&&(g+=" mfp-ie7"),g&&t._addClassToMFP(g),t.updateItemHTML(),O("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),i.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),O(p),n},close:function(){t.isOpen&&(O(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(g),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){O(a);var n=g+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}i.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),t.st.showCloseBtn&&(!t.st.closeBtnInside||t.currTemplate[t.currItem.type]===!0)&&t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,O(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||x.height();t.fixedContentPos||t.wrap.css("height",t.wH),O("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(O("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=t.st[i]?t.st[i].markup:!1;O("FirstMarkupParse",r),r?t.currTemplate[i]=e(r):t.currTemplate[i]=!0}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,O(f,n),o=n.type,t.container.prepend(t.contentContainer),O("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(_()):t.content=e:t.content="",O(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){i=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,O("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var s=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(t))return!0}else if(x.width()<s)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),!i&&"loading"===e&&(i=t.st.tLoading);var o={status:e,text:i};O("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),O(l,[t,n,i]),e.each(n,function(n,i){if(void 0===i||i===!1)return!0;if(o=n.split("_"),o.length>1){var r=t.find(h+"-"+o[0]);if(r.length>0){var s=o[1];"replaceWith"===s?r[0]!==i[0]&&r.replaceWith(i):"img"===s?r.is("img")?r.attr("src",i):r.replaceWith(e("<img>").attr("src",i).attr("class",r.attr("class"))):r.attr(o[1],i)}}else t.find(h+"-"+n).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,n){return S(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){S();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=w?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),w?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var T,I,P,M="inline",j=function(){P&&(I.after(P.addClass(T)).detach(),P=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),E(a+"."+M,function(){j()})},getInline:function(n,i){if(j(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(I||(T=o.hiddenClass,I=C(T),T="mfp-"+T),P=r.after(I).detach().removeClass(T)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var z,A="ajax",D=function(){z&&e(document.body).removeClass(z)},B=function(){D(),t.req&&t.req.abort()};e.magnificPopup.registerModule(A,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(A),z=t.st.ajax.cursor,E(a+"."+A,B),E("BeforeChange."+A,B)},getAjax:function(n){z&&e(document.body).addClass(z),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,o,r){var s={data:i,xhr:r};O("ParseAjax",s),t.appendContent(e(s.data),A),n.finished=!0,D(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),O("AjaxContentAdded")},error:function(){D(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var N,L=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),E(p+i,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),E(a+i,function(){n.cursor&&e(document.body).removeClass(n.cursor),x.off("resize"+h)}),E("Resize"+i,t.resizeImage),t.isLowIE&&E("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,N&&clearInterval(N),e.isCheckingImgSize=!1,O("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){N&&clearInterval(N),N=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(N),n++,3===n?o(10):40===n?o(50):100===n&&o(500),void 0)},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,O("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):s()))},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=t.st.image,d=i.find(".mfp-img");if(d.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",r).on("error.mfploader",s),c.src=n.src,d.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:L(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(N&&clearInterval(N),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var U,F=function(){return void 0===U&&(U=void 0!==document.createElement("p").style.MozTransform),U};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,s=n.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},u=function(){t.content.css("visibility","visible")};E("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();r=c(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){r.remove(),e=r=null,O("ZoomAnimationEnded")},16)},s)},16)}}),E(d+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(e=t._getItemToZoom(),!e)return;r=c(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),E(a+i,function(){t._allowZoom()&&(u(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var a={width:i.width(),height:(w?i.innerHeight():i[0].offsetHeight)-s-r};return F()?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var H="iframe",G="//about:blank",q=function(e){if(t.currTemplate[H]){var n=t.currTemplate[H].find("iframe");n.length&&(e||(n[0].src=G),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(H),E("BeforeChange",function(e,t,n){t!==n&&(t===H?q():n===H&&q(!0))}),E(a+"."+H,function(){q()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var s={};return r.srcAction&&(s[r.srcAction]=o),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}}),S()}),!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return m({type:x.error,iconClass:h().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=h()),g=e("#"+t.containerId),g.length?g:(n&&(g=l(t)),g)}function i(e,t,n){return m({type:x.info,iconClass:h().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){y=e}function r(e,t,n){return m({type:x.success,iconClass:h().iconClasses.success,message:e,optionsOverride:n,title:t})}function s(e,t,n){return m({type:x.warning,iconClass:h().iconClasses.warning,message:e,optionsOverride:n,title:t})}function a(e){var t=h();g||n(t),u(e,t)||c(t)}function d(t){var i=h();return g||n(i),t&&0===e(":focus",t).length?void v(t):void(g.children().length&&g.remove())}function c(t){for(var n=g.children(),i=n.length-1;i>=0;i--)u(e(n[i]),t)}function u(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){v(t)}}),!0):!1}function l(t){return g=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),g.appendTo(e(t.target)),g}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){y&&y(e)}function m(t){function i(t){return!e(":focus",u).length||t?(clearTimeout(x.intervalId),u[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){v(u),a.onHidden&&"hidden"!==E.state&&a.onHidden(),E.state="hidden",E.endTime=new Date,f(E)}})):void 0}function o(){(a.timeOut>0||a.extendedTimeOut>0)&&(c=setTimeout(i,a.extendedTimeOut),x.maxHideTime=parseFloat(a.extendedTimeOut),x.hideEta=(new Date).getTime()+x.maxHideTime)}function r(){clearTimeout(c),x.hideEta=0,u.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function s(){var e=(x.hideEta-(new Date).getTime())/x.maxHideTime*100;m.width(e+"%")}var a=h(),d=t.iconClass||a.iconClass;if("undefined"!=typeof t.optionsOverride&&(a=e.extend(a,t.optionsOverride),d=t.optionsOverride.iconClass||d),a.preventDuplicates){if(t.message===b)return;b=t.message}w++,g=n(a,!0);var c=null,u=e("<div/>"),l=e("<div/>"),p=e("<div/>"),m=e("<div/>"),y=e(a.closeHtml),x={intervalId:null,hideEta:null,maxHideTime:null},E={toastId:w,state:"visible",startTime:new Date,options:a,map:t};return t.iconClass&&u.addClass(a.toastClass).addClass(d),t.title&&(l.append(t.title).addClass(a.titleClass),u.append(l)),t.message&&(p.append(t.message).addClass(a.messageClass),u.append(p)),a.closeButton&&(y.addClass("toast-close-button").attr("role","button"),u.prepend(y)),a.progressBar&&(m.addClass("toast-progress"),u.prepend(m)),u.hide(),a.newestOnTop?g.prepend(u):g.append(u),u[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(c=setTimeout(i,a.timeOut),x.maxHideTime=parseFloat(a.timeOut),x.hideEta=(new Date).getTime()+x.maxHideTime,a.progressBar&&(x.intervalId=setInterval(s,10))),u.hover(r,o),!a.onclick&&a.tapToDismiss&&u.click(i),a.closeButton&&y&&y.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),i(!0)}),a.onclick&&u.click(function(){a.onclick(),i()}),f(E),a.debug&&console&&console.log(E),u}function h(){return e.extend({},p(),E.options)}function v(e){g||(g=n()),e.is(":visible")||(e.remove(),e=null,0===g.children().length&&(g.remove(),b=void 0))}var g,y,b,w=0,x={error:"error",info:"info",success:"success",warning:"warning"},E={clear:a,remove:d,error:t,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.1.0",warning:s};return E}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},i.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(d){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,l=0;l<c.length;l++){var p=c[l].split("="),f=p[0].replace(u,decodeURIComponent),m=p.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{if(m=n.read?n.read(m,f):n(m,f)||m.replace(u,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(d){}if(t===f){s=m;break}t||(s[f]=m)}catch(d){}}return s}}return i.set=i,i.get=function(e){return i(e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Gamepads=e()}}(function(){return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var d="function"==typeof require&&require;if(!a&&d)return d(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./lib/gamepads.js"),r=i(o);n["default"]=r["default"],t.exports=n["default"]},{"./lib/gamepads.js":3}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this._listeners={}}return o(e,[{key:"emit",value:function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];return(this._listeners[e]||[]).forEach(function(e){return e.apply(t,i)}),this}},{key:"on",value:function(e,t){return e in this._listeners?this._listeners[e].push(t):this._listeners[e]=[t],this}},{key:"off",value:function(e){return e?this._listeners[e]=[]:this._listeners={},this}}]),e}();n["default"]=r,t.exports=n["default"]},{}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});for(var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),a=(function(e,t,n){for(var i=!0;i;){var o=e,r=t,s=n;i=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var d=a.get;return void 0===d?void 0:d.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=r,n=s,i=!0,a=c=void 0}}),d=e("./event_emitter.js"),c=i(d),u=e("./utils.js"),l=i(u),p=new l["default"],f={axisThreshold:.15,gamepadAttributesEnabled:!0,gamepadIndicesEnabled:!0,keyEventsEnabled:!0,nonstandardEventsEnabled:!0,indices:void 0,keyEvents:void 0},m={buttons:new Array(20),axes:[0,0,0,0,0,0]},h=0;20>h;h++)m.buttons[h]={pressed:!1,value:0};var v=function(e){function t(e){var n=this;o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.polyfill(),this._gamepadApis=["getGamepads","webkitGetGamepads","webkitGamepads"],this._gamepadDOMEvents=["gamepadconnected","gamepaddisconnected"],this._gamepadInternalEvents=["gamepadconnected","gamepaddisconnected","gamepadbuttondown","gamepadbuttonup","gamepadaxismove"],this._seenEvents={},this.dataSource=this.getGamepadDataSource(),this.gamepadsSupported=this._hasGamepads(),this.indices={},this.keyEvents={},this.previousState={},this.state={},this._gamepadDOMEvents.forEach(function(e){window.addEventListener(e,function(t){n.addSeenEvent(t.gamepad,e,"dom"),"gamepaddisconnected"===e?n.removeSeenEvent(t.gamepad,"gamepadconnected","dom"):"gamepadconnected"===e&&n.removeSeenEvent(t.gamepad,"gamepaddisconnected","dom")})}),this._gamepadInternalEvents.forEach(function(e){n.on(e,function(t){n.addSeenEvent(t,e,"internal"),"gamepaddisconnected"===e?n.removeSeenEvent(t,"gamepadconnected","internal"):n.removeSeenEvent(t,"gamepaddisconnected","internal")})}),e=e||{},Object.keys(f).forEach(function(t){n[t]="undefined"==typeof e[t]?f[t]:p.clone(e[t])}),this.gamepadIndicesEnabled&&(this.on("gamepadconnected",this._onGamepadConnected.bind(this)),this.on("gamepaddisconnected",this._onGamepadDisconnected.bind(this)),this.on("gamepadbuttondown",this._onGamepadButtonDown.bind(this)),this.on("gamepadbuttonup",this._onGamepadButtonUp.bind(this)),this.on("gamepadaxismove",this._onGamepadAxisMove.bind(this)))}return r(t,e),s(t,[{key:"polyfill",value:function(){if(!this._polyfilled){if("performance"in window||(window.performance={}),"now"in window.performance||(window.performance.now=function(){return+new Date}),!("GamepadButton"in window)){window.GamepadButton=function(e){return{pressed:e.pressed,value:e.value}}}this._polyfilled=!0}}},{key:"_getVendorProductIds",value:function(e){var t,n=e.id.split("-");return n.length<2&&(t=e.id.match(/vendor: (\w+) product: (\w+)/i))?t.slice(1).map(p.stripLeadingZeros):(t=e.id.match(/(\w+)-(\w+)/),t?t.slice(1).map(p.stripLeadingZeros):n.slice(0,2).map(p.stripLeadingZeros))}},{key:"_hasGamepads",value:function(){for(var e=0,t=this._gamepadApis.length;t>e;e++)if(this._gamepadApis[e]in navigator)return!0;return!1}},{key:"_getGamepads",value:function(){for(var e=0,t=this._gamepadApis.length;t>e;e++)if(this._gamepadApis[e]in navigator)return navigator[this._gamepadApis[e]]();return[]}},{key:"updateGamepad",value:function(e){this.previousState[e.index]=p.clone(this.state[e.index]||m),this.state[e.index]=e?p.clone(e):m,this.fireConnectionEvent(this.state[e.index],!0)}},{key:"removeGamepad",value:function(e){delete this.state[e.index],this.fireConnectionEvent(e,!1)}},{key:"observeButtonChanges",value:function(e){var t=this,n=this.previousState[e.index],i=this.state[e.index];n&&Object.keys(n).length&&i&&Object.keys(i).length&&i.buttons.forEach(function(e,o){e.value!==n.buttons[o].value&&(t.fireButtonEvent(i,o,e.value),t.fireKeyEvent(i,o,e.value))})}},{key:"observeAxisChanges",value:function(e){var t=this,n=this.previousState[e.index],i=this.state[e.index];n&&Object.keys(n).length&&i&&Object.keys(i).length&&i.axes.forEach(function(e,o){e!==n.axes[o]&&t.fireAxisMoveEvent(i,o,e)})}},{key:"update",value:function(){var e=this,t={};this.poll().forEach(function(n){t[n.index]=!0,e.updateGamepad(n),n.connected||e.removeGamepad(e.state[padIdx]),e.observeButtonChanges(n),e.observeAxisChanges(n)}),Object.keys(this.state).forEach(function(n){n in t||e.removeGamepad(e.state[n])})}},{key:"getGamepadDataSource",value:function(){var e;if(navigator.platform.match(/^Linux/))e="linuxjoy";else if(navigator.platform.match(/^Mac/))e="hid";else if(navigator.platform.match(/^Win/)){var t=navigator.userAgent.match("Gecko/(..)");e=t&&parseInt(t[1])<32?"dinput":"hid"}return e}},{key:"poll",value:function(){var e=[];if(this.gamepadsSupported)for(var t,n=this._getGamepads(),i=0,o=n.length;o>i;i++)t=n[i],t&&(t=this.extend(t),e.push(t));return e}},{key:"extend",value:function(e){if(e._extended)return e;var t=p.clone(e);return t._extended=!0,this.gamepadAttributesEnabled&&(t.attributes=this._getAttributes(t)),t.timestamp||(t.timestamp=window.performance.now()),this.gamepadIndicesEnabled&&(t.indices=this._getIndices(t)),t}},{key:"_getAttributes",value:function(e){var t=this._getVendorProductIds(e);return{vendorId:t[0],productId:t[1],name:e.id,dataSource:this.dataSource}}},{key:"_getIndices",value:function(e){return this.indices[e.id]||this.indices.standard||{}}},{key:"_mapAxis",value:function(e){return Math.abs(e)<this.axisThreshold?0:e}},{key:"_mapButton",value:function(e){return"number"==typeof e&&(e=new GamepadButton({pressed:1===e,value:e})),e}},{key:"setIndices",value:function(e){this.indices=p.clone(e)}},{key:"fireConnectionEvent",value:function(e,t){var n=t?"gamepadconnected":"gamepaddisconnected";if(this.hasSeenEvent(e,n,"internal")||this.emit(n,e),!this.hasSeenEvent(e,n,"dom")){var i={bubbles:!1,cancelable:!1,detail:{gamepad:e}};p.triggerEvent(window,n,i)}}},{key:"fireButtonEvent",value:function(e,t,n){var i=1===n?"gamepadbuttondown":"gamepadbuttonup";if(this.emit(i,e,t,n),this.nonstandardEventsEnabled&&!("GamepadButtonEvent"in window)){var o={bubbles:!1,cancelable:!1,detail:{button:t,gamepad:e}};p.triggerEvent(window,i,o)}}},{key:"fireAxisMoveEvent",value:function(e,t,n){var i="gamepadaxismove";if(this.emit(i,e,t,n),this.nonstandardEventsEnabled&&!("GamepadAxisMoveEvent"in window)&&!(Math.abs(n)<this.axisThreshold)){var o={bubbles:!1,cancelable:!1,detail:{axis:t,gamepad:e,value:n}};p.triggerEvent(window,i,o)}}},{key:"fireKeyEvent",value:function(e,t,n){if(this.keyEventsEnabled&&this.keyEvents){var i=p.swap(e.indices)[t];if("undefined"!=typeof i){var o=1===n?["keydown","keypress"]:["keyup"],r=this.keyEvents[i];r&&("bubbles"in r||(r.bubbles=!0),r.detail||(r.detail={}),r.detail.button=t,r.detail.gamepad=e,o.forEach(function(e){p.triggerEvent(r.target||document.activeElement,e,r)}))}}}},{key:"addSeenEvent",value:function(e,t,n){var i=[e.index,t,n].join(".");this._seenEvents[i]=!0;
}},{key:"hasSeenEvent",value:function(e,t,n){var i=[e.index,t,n].join(".");return!!this._seenEvents[i]}},{key:"removeSeenEvent",value:function(e,t,n){var i=[e.index,t,n].join(".");delete this._seenEvents[i]}},{key:"buttonEvent2axisEvent",value:function(e){return"gamepadbuttondown"===e.type?(e.axis=e.button,e.value=1):"gamepadbuttonup"===e.type&&(e.axis=e.button,e.value=0),e}},{key:"_buttonDownEqualsKey",value:function(e,t){return"b"+e+".down"===t.trim().toLowerCase()}},{key:"_buttonUpEqualsKey",value:function(e,t){var n=t.trim().toLowerCase();return"b"+e+".up"===n||"b"+e===n}},{key:"_axisMoveEqualsKey",value:function(e,t){return"a"+e===t.trim().toLowerCase()}},{key:"_onGamepadConnected",value:function(e){"connected"in e.indices&&e.indices.connected(e)}},{key:"_onGamepadDisconnected",value:function(e){"disconnected"in e.indices&&e.indices.disconnected(e)}},{key:"_onGamepadButtonDown",value:function(e,t){for(var n in e.indices)this._buttonDownEqualsKey(t,n)&&e.indices[n](e,t)}},{key:"_onGamepadButtonUp",value:function(e,t){for(var n in e.indices)this._buttonUpEqualsKey(t,n)&&e.indices[n](e,t)}},{key:"_onGamepadAxisMove",value:function(e,t,n){for(var i in e.indices)this._axisMoveEqualsKey(t,i)&&e.indices[i](e,t,n)}}]),t}(c["default"]);n["default"]=v,v.utils=p,t.exports=n["default"]},{"./event_emitter.js":2,"./utils.js":4}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.browser=this.getBrowser(),this.engine=this.getEngine(this.browser)}return o(e,[{key:"clone",value:function(e){if(null===e||"function"==typeof e||!(e instanceof Object))return e;var t="";if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,i=e.length;i>n;n++)t[n]=this.clone(e[n]);return t}if(e instanceof Object){t={};for(var o in e)o in e&&(t[o]=this.clone(e[o]));return t}throw new Error("Unable to clone object of unexpected type!")}},{key:"swap",value:function(e){var t={};for(var n in e)n in e&&(t[e[n]]=n);return t}},{key:"getBrowser",value:function(){return"undefined"!=typeof window?window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"opera":"chrome"in window?"chrome":"undefined"!=typeof InstallTrigger?"firefox":Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?"safari":document.documentMode?"ie":void 0:void 0}},{key:"getEngine",value:function(e){return e=e||this.getBrowser(),"firefox"===e?"gecko":"opera"===e||"chrome"===e||"safari"===e?"webkit":"ie"===e?"trident":void 0}},{key:"stripLeadingZeros",value:function(e){return"string"!=typeof e?e:e.replace(/^0+(?=\d+)/g,"")}},{key:"triggerEvent",value:function(e,t,n){n=n||{},n.detail=n.detail||{};var i;"CustomEvent"in window?i=new CustomEvent(t,n):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail)),Object.keys(n.detail).forEach(function(e){i[e]=n.detail[e]}),e.dispatchEvent(i)}}]),e}();n["default"]=r,t.exports=n["default"]},{}]},{},[1])(1)}),function(){}.call(this);